# =====================================================
# Application Configuration
# =====================================================
spring.application.name=recrutement-intelligent
server.port=8080

# =====================================================
# Active Profile
# =====================================================
spring.profiles.active=dev

# =====================================================
# Database Configuration
# =====================================================
spring.datasource.url=jdbc:postgresql://193.24.208.37:5432/recrutement?sslmode=disable
spring.datasource.username=recrutement_user
spring.datasource.password=pswrd
spring.datasource.driver-class-name=org.postgresql.Driver

# HikariCP Configuration (Connection Pool)
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# =====================================================
# JPA / Hibernate Configuration
# =====================================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Statistics (dev only)
spring.jpa.properties.hibernate.generate_statistics=false

# =====================================================
# OpenAI Configuration
# =====================================================
spring.ai.openai.api-key=put-ur-api-here
spring.ai.openai.chat.options.model=gpt-4
spring.ai.openai.chat.options.temperature=0.7
spring.ai.openai.chat.options.max-tokens=2000

# =====================================================
# Embedding Model Configuration
# =====================================================
spring.ai.openai.embedding.options.model=text-embedding-3-small
spring.ai.openai.embedding.options.dimensions=1536

# =====================================================
# Vector Store Configuration (PgVector)
# =====================================================
spring.ai.vectorstore.pgvector.index-type=IVFFLAT
spring.ai.vectorstore.pgvector.distance-type=COSINE_DISTANCE
spring.ai.vectorstore.pgvector.dimensions=1536

# PgVector Connection
spring.ai.vectorstore.pgvector.host=193.24.208.37
spring.ai.vectorstore.pgvector.port=5432
spring.ai.vectorstore.pgvector.database=recrutement
spring.ai.vectorstore.pgvector.username=recrutement_user
spring.ai.vectorstore.pgvector.password=pswrd
spring.ai.vectorstore.pgvector.table-name=cv_embeddings

# PgVector Index Configuration
spring.ai.vectorstore.pgvector.create-schema=true
spring.ai.vectorstore.pgvector.initialize-schema=true

# =====================================================
# JWT Configuration
# =====================================================
jwt.secret=SZItJyYFZDk1c2I5kO8lb062r0NPQcOyItZyLDG3n9yPcIn2r3JIlI7oYoOlTQz1Ftg9btoyZIXPjxGFYte7TQ==
jwt.expiration=86400000
jwt.refresh-expiration=604800000

# =====================================================
# File Upload Configuration
# =====================================================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

file.upload-dir=./uploads/cv

# =====================================================
# CORS Configuration
# =====================================================
cors.allowed-origins=http://localhost:3000,http://localhost:4200
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*
cors.allow-credentials=true
cors.max-age=3600

# =====================================================
# Logging Configuration
# =====================================================
logging.level.root=INFO
logging.level.ma.recrutement=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=OFF
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=OFF

# =====================================================
# SpringDoc OpenAPI (Swagger)
# =====================================================
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operations-sorter=method
springdoc.swagger-ui.tags-sorter=alpha

springdoc.packages-to-scan=ma.recrutement.controller
springdoc.paths-to-match=/api/**
